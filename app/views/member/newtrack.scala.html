@(trackForm: Form[Track], currentUserAddress: String)

@import views.html.helper.bs3._

@main {
  <div class="col-md-12">
    <h2>Hier k√∂nnen Sie eine neue Strecke eintragen</h2>
    <div class="col-md-4">
      <div class="track-form border-track-form">
        @helper.form(action = routes.Tracks.saveTracks, 'class -> "form-horizontal") {
          @inputTextTrack(trackForm("name"), "Streckenname:")
          @selectBike(trackForm("bike"), "Fahrrad:") <!-- bikeID -->
          @inputTime(trackForm("startAt"), "Startzeit:")
          @inputTime(trackForm("finishedAt"), "Endzeit:")
          <!--
          @inputTextHidden(trackForm("length"))
          @inputTextHidden(trackForm("waypointsList")) -->
        }
          <div class="form-group">
              <div class="col-sm-offset-4 col-sm-10">
                  <button type="submit" class="btn btn-md btn-default" onclick="exportRoute(control, lengthInKm)">Speichern</button>
              </div>
          </div>

      </div>
    </div>

   <p class="hint-paragraph">Tragen Sie <a href="/bike/new">hier</a> ein neues Fahrrad ein,<br>falls Sie es noch nicht getan haben.</p>

    <div class="col-md-8">
      <div class="map-box-newtrack">
        <p class="current-user-addr"> Home sweet home: @{currentUserAddress} </p>

        <div id="map"></div>
      </div>
    </div>

    <script type="application/javascript">

    // Initialize routing control for map
    var control = addControl();
    // Get total distance from map
    var lengthInKm = getLengthInKm(control);
    // Initialize and load map
    var map = loadMap("@{currentUserAddress}", control, lengthInKm);

    </script>
  </div>
}