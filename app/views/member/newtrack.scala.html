@(trackForm: Form[Track], currentUserAddress: String)

@import views.html.helper.bs3._

@main {
  <div class="col-md-12 col-md-offset-1">
    <h2 class="h2">Hier k√∂nnen Sie eine neue Strecke eintragen</h2>
    <p class="hint-paragraph"> Tragen Sie <a href="/bike/new">hier</a> ein neues Fahrrad ein,<br> wenn sie es noch nicht getan haben  </p>
    <div class="col-md-4">
      <div class="track-form">
        @helper.form(action = routes.Tracks.saveTracks, 'class -> "form-horizontal") {
          @inputTextTrack(trackForm("name"), "Streckenname:")
          @selectBike(trackForm("bike"), "Fahrrad:") <!-- bikeID -->
          @inputTime(trackForm("startAt"), "Startzeit")
          @inputTime(trackForm("finishedAt"), "Endzeit")
          @inputTextHidden(trackForm("length"))
          @inputTextHidden(trackForm("waypointsList"))
          <!--@inputSubmitRoute("Speichern")-->
        }
        <button class="save-btn" onclick="exportRoute(control, lengthInKm)">Speichern</button>
      </div>
    </div>

    <p class="current-user-addr"> Home sweet home: @{currentUserAddress} </p>

    <div id="map"></div>

    <script type="application/javascript">

    // Initialize routing control for map
    var control = addControl();
    // Intitialize total distance of route
    var lengthInKm = 0;
    // Initialize and load map
    var map = loadMap("@{currentUserAddress}", control, lengthInKm);

    </script>
  </div>
}


